for(var contactButton=document.querySelector(".js-contact"),modalContact=document.querySelector(".modal-contact"),modalClose=document.querySelectorAll(".modal-close"),modals=document.querySelectorAll(".modal"),form=modalContact.querySelector("form"),contactName=modalContact.querySelector("#contact-name"),contactEmail=modalContact.querySelector("#contact-email"),contactText=modalContact.querySelector("#contact-letter"),contactsMap=document.querySelector(".contacts-map"),modalMap=document.querySelector(".modal-map"),slides=document.querySelectorAll(".best-offer"),slidesControls=document.querySelectorAll(".slider-button"),services=document.querySelectorAll(".services-item"),servicesControls=document.querySelectorAll(".services-control button"),isStorageSupport=!0,name="",email="",i=0;i<slides.length;i++)slidesControls[i].addEventListener("click",function(t){return function(){for(var e=0;e<slides.length;e++)slides[e].classList.remove("active"),slidesControls[e].classList.remove("active");slides[t].classList.add("active"),this.classList.add("active")}}(i));for(i=0;i<services.length;i++)servicesControls[i].addEventListener("click",function(t){return function(){for(var e=0;e<services.length;e++)services[e].classList.remove("active"),servicesControls[e].classList.remove("active");services[t].classList.add("active"),this.classList.add("active")}}(i));try{name=localStorage.getItem("name"),email=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactButton.addEventListener("click",function(e){e.preventDefault(),modalContact.classList.add("modal-show"),name&&email?(contactName.value=name,contactEmail.value=email,contactText.focus()):contactName.focus()});for(var k=0;k<modalClose.length;k++)modalClose[k].addEventListener("click",function(){this.parentNode.classList.remove("modal-show"),this.parentNode.classList.remove("modal-error")});window.addEventListener("keydown",function(e){if(27===e.keyCode)for(var t=0;t<modals.length;t++)modals[t].classList.contains("modal-show")&&(e.preventDefault(),modals[t].classList.remove("modal-show"),modals[t].classList.remove("modal-error"))}),form.addEventListener("submit",function(e){contactName.value&&contactEmail.value&&contactText.value?isStorageSupport&&(localStorage.setItem("name",contactName.value),localStorage.setItem("email",contactEmail.value)):(e.preventDefault(),modalContact.classList.remove("modal-error"),modalContact.offsetWidth=modalContact.offsetWidth,modalContact.classList.add("modal-error"))}),contactsMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")});